import{g as C,a as A}from"./User.7a199d69.js";import{_ as y,r as o,o as _,c as r,d as t,t as i,a as e,w as d,l as m,p as V,b as B,T as U,y as T,m as g}from"./index.cca8fa7f.js";import{u as N}from"./user.65ca9a12.js";import"./axios.eec18f4d.js";const P={props:["follow","fans","money"]},f=s=>(V("data-v-bff53df0"),s=s(),B(),s),z={class:"panel"},D={class:"info padding"},E={class:"data-container"},O={class:"item"},R={class:"data"},j=f(()=>t("div",{class:"title"},"\u5173\u6CE8",-1)),q={class:"item"},F={class:"data"},G=f(()=>t("div",{class:"title"},"\u7C89\u4E1D",-1)),H={class:"item"},J={class:"data"},K=f(()=>t("div",{class:"title"},"\u79EF\u5206",-1)),L=m(" \u6CA1\u6709\u6587\u7AE0 "),M=m(" \u6CA1\u6709\u5173\u6CE8 ");function Q(s,n,c,I,a,u){const l=o("t-tab-panel"),h=o("t-tabs");return _(),r("div",z,[t("div",D,[t("div",E,[t("div",O,[t("div",R,i(c.follow),1),j]),t("div",q,[t("div",F,i(c.fans),1),G]),t("div",H,[t("div",J,i(c.money),1),K])])]),e(h,{class:"personal","default-value":"post"},{default:d(()=>[e(l,{value:"post",label:"\u6211\u7684\u6587\u7AE0"},{default:d(()=>[L]),_:1}),e(l,{value:"follow",label:"\u6211\u7684\u5173\u6CE8"},{default:d(()=>[M]),_:1})]),_:1})])}const W=y(P,[["render",Q],["__scopeId","data-v-bff53df0"]]);const X={components:{TabBar:U,UserIcon:N,Panel:W,AddIcon:T},data(){return{loading:!0,maincontent:!1,userInfo:{userdata:{id:"",name:"",avatar:"",saying:""},profile:{id:"",level:"",today:"",phone:""}},showActionSheet:!1,items:[{label:"\u767B\u51FA",icon:"https://api.light.xhhzs.cn/static/poweroff.svg"},{label:"\u8BBE\u7F6E",icon:"https://api.light.xhhzs.cn/static/setting.svg"}]}},async created(){try{const s=await C(localStorage.getItem("token"));s.code!==500?(this.userInfo=s.data,this.loading=!1,this.maincontent=!0):(this.$toast.fail("\u767B\u5F55\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55"),this.$router.push("/"),localStorage.removeItem("token"))}catch(s){this.$toast(s)}},methods:{async handleSelected(s,n){if(n===0)try{const c=await A(localStorage.getItem("token"));console.log(c),this.$toast(c.data.message),localStorage.removeItem("token"),this.$router.push("/")}catch(c){this.$toast(c);return}else n===1&&this.$router.push("/usercenter/settings")}}},Y={class:"usercenter"},Z=m(" \u7528\u6237\u4E2D\u5FC3 "),tt={key:0,class:"container padding"},et={class:"headerCard"},st={class:"left"},ot={class:"right"},nt={key:1,class:"container padding"},at={class:"headerCard"},ct={class:"left"},it={class:"right"},dt={class:"name"},lt={class:"tags",theme:"primary"},_t={class:"saying"};function rt(s,n,c,I,a,u){const l=o("t-navbar"),h=o("AddIcon"),b=o("t-fab"),$=o("TabBar"),w=o("t-action-sheet"),v=o("t-skeleton"),S=o("UserIcon"),k=o("t-avatar"),x=o("Panel");return _(),r("div",Y,[e(l,{leftArrow:!1,onClickRight:n[0]||(n[0]=p=>a.showActionSheet=!0)},{default:d(()=>[Z]),_:1}),e(b,{class:"fab",text:"\u65B0\u5EFA\u8349\u7A3F",onClick:n[1]||(n[1]=p=>s.$router.push("/usercenter/newdraft"))},{icon:d(()=>[e(h)]),_:1}),e($),e(w,{onSelected:u.handleSelected,type:"grid",items:a.items,modelValue:a.showActionSheet,"onUpdate:modelValue":n[2]||(n[2]=p=>a.showActionSheet=p)},null,8,["onSelected","items","modelValue"]),a.loading?(_(),r("div",tt,[t("div",et,[t("div",st,[e(v,{animation:"gradient",theme:"avatar"})]),t("div",ot,[e(v,{rowCol:[{width:"100px"},2,1],theme:"text",animation:"gradient"})])])])):g("",!0),a.maincontent?(_(),r("div",nt,[t("div",at,[t("div",ct,[e(k,{size:"large"},{icon:d(()=>[e(S)]),_:1})]),t("div",it,[t("div",dt,i(a.userInfo.userdata.name),1),t("div",lt,"ID\uFF1A"+i(a.userInfo.userdata.id),1),t("div",_t,i(a.userInfo.userdata.saying),1)])])])):g("",!0),e(x,{follow:"0",fans:"0",money:"0"})])}const ut=y(X,[["render",rt],["__scopeId","data-v-95118859"]]);export{ut as default};
