import{l as y}from"./User.3ed58110.js";import{g as w,h as i,u as O,i as S,j as k,_ as j,f as C,r as d,o as P,c as V,a,w as g,d as c,p as I,b as z,l as h}from"./index.a660ce62.js";import{_ as A}from"./logo.78864314.js";import"./axios.72e01627.js";function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),o.push.apply(o,n)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?v(Object(o),!0).forEach(function(n){k(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))})}return e}var x={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 8.5a3.5 3.5 0 100-7 3.5 3.5 0 000 7zm0-1a2.5 2.5 0 110-5 2.5 2.5 0 010 5zM11.5 10.99a12.77 12.77 0 00-9 .75v1.76h7v1H2a.5.5 0 01-.5-.5v-2.28c0-.37.2-.7.54-.87a13.79 13.79 0 019.46-.9v1.04zM12.75 13.75V16h1v-2.25H16v-1h-2.25V10.5h-1v2.25H10.5v1h2.25z"}}]},$=w({name:"UserAddIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:o}=t,n=i(()=>e.size),{className:s,style:p}=O(n),u=i(()=>["t-icon","t-icon-user-add",s.value]),m=i(()=>f(f({},p.value),o.style)),l=i(()=>({class:u.value,style:m.value,onClick:_=>{var r;return(r=e.onClick)===null||r===void 0?void 0:r.call(e,{e:_})}}));return()=>S(x,l.value)}});const L={components:{UserAddIcon:$},data(){return{username:"",password:"",buttonLoading:!1}},mounted(){C(localStorage.getItem("token"))?this.$router.push("/login"):(this.$router.push("/usercenter"),this.$toast("\u60A8\u5DF2\u767B\u5F55\uFF0C\u4E3A\u60A8\u8DF3\u8F6C\u5230\u7528\u6237\u4E2D\u5FC3"))},methods:{async loginActionTo(){this.buttonLoading=!0;const e=await y(this.username,this.password);console.log(e.data),e.data.code!==500?(localStorage.setItem("token",e.data[0].token),this.$router.push("/usercenter")):this.$toast(e.data.message),this.buttonLoading=!1}}},b=e=>(I("data-v-2dfd3010"),e=e(),z(),e),U={class:"login"},B=h(" \u767B\u5F55 "),D=b(()=>c("span",null,"\xA0\u6CE8\u518C",-1)),N={class:"padding"},E=b(()=>c("img",{class:"logo",src:A,alt:"logo"},null,-1)),H=h("\u767B\u5F55");function M(e,t,o,n,s,p){const u=d("UserAddIcon"),m=d("t-navbar"),l=d("t-input"),_=d("t-button");return P(),V("div",U,[a(m,{rightShow:!1},{right:g(()=>[c("span",{onClick:t[0]||(t[0]=r=>e.$router.push("/register"))},[a(u),D])]),default:g(()=>[B]),_:1}),c("main",N,[E,a(l,{modelValue:s.username,"onUpdate:modelValue":t[1]||(t[1]=r=>s.username=r),label:"\u7528\u6237\u540D",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["modelValue"]),a(l,{type:"password",modelValue:s.password,"onUpdate:modelValue":t[2]||(t[2]=r=>s.password=r),label:"\u5BC6\u7801",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"]),a(_,{loading:s.buttonLoading,block:"",style:{"margin-top":"10px"},theme:"primary",onClick:t[3]||(t[3]=r=>p.loginActionTo())},{default:g(()=>[H]),_:1},8,["loading"])])])}const G=j(L,[["render",M],["__scopeId","data-v-2dfd3010"]]);export{G as default};
