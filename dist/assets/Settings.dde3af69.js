import{_ as c,r as n,o as p,c as _,a as o,w as a,l as u,t as g}from"./index.cca8fa7f.js";import{g as h,s as v,b as $}from"./User.7a199d69.js";import"./axios.eec18f4d.js";const x={data(){return{oldPassword:"",newPassword:""}},methods:{action(){this.$toast("\u6B63\u5728\u5F00\u53D1\u4E2D"),this.oldPassword===this.newPassword&&this.$message.error("\u65B0\u5BC6\u7801\u4E0D\u80FD\u4E0E\u65E7\u5BC6\u7801\u76F8\u540C")}}},V={class:"set-password padding"},P=u(" \u4FDD\u5B58 ");function S(l,t,m,b,s,r){const d=n("t-input"),i=n("t-button");return p(),_("div",V,[o(d,{modelValue:s.oldPassword,"onUpdate:modelValue":t[0]||(t[0]=e=>s.oldPassword=e),type:"password",label:"\u65E7\u5BC6\u7801",placeholder:"\u5FC5\u586B"},null,8,["modelValue"]),o(d,{modelValue:s.newPassword,"onUpdate:modelValue":t[1]||(t[1]=e=>s.newPassword=e),type:"password",label:"\u65B0\u5BC6\u7801",placeholder:"\u5FC5\u586B"},null,8,["modelValue"]),o(i,{onClick:t[2]||(t[2]=e=>r.action()),block:"",theme:"primary"},{default:a(()=>[P]),_:1})])}const k=c(x,[["render",S]]),y={data(){return{newMail:"",code:"",buttonText:"\u53D1\u9001\u9A8C\u8BC1\u7801",buttonDisabled:!1}},async mounted(){await h(localStorage.getItem("token"))},methods:{async action(){this.buttonDisabled=!0,this.buttonText="\u6B63\u5728\u53D1\u9001";const l=await v(this.newMail);this.buttonDisabled=!1,this.$toast(l.data.message),this.buttonText="\u91CD\u65B0\u53D1\u9001"},async variety(){const l=await $(localStorage.getItem("token"),this.newMail,this.code);this.$toast(l.data.message),l.data.code==200&&this.$router.push("/usercenter")}}},D={class:"set-email padding"},M=u("\u4FDD\u5B58");function C(l,t,m,b,s,r){const d=n("t-input"),i=n("t-button");return p(),_("div",D,[o(d,{modelValue:s.newMail,"onUpdate:modelValue":t[0]||(t[0]=e=>s.newMail=e),label:"\u65B0\u90AE\u7BB1\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165\u65B0\u7684\u7535\u5B50\u90AE\u4EF6\u5730\u5740"},null,8,["modelValue"]),o(d,{modelValue:s.code,"onUpdate:modelValue":t[2]||(t[2]=e=>s.code=e),label:"\u9A8C\u8BC1\u7801",placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"},{suffix:a(()=>[o(i,{onClick:t[1]||(t[1]=e=>r.action()),disabled:s.buttonDisabled,variant:"text"},{default:a(()=>[u(g(s.buttonText),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),o(i,{onClick:t[3]||(t[3]=e=>r.variety()),block:""},{default:a(()=>[M]),_:1})])}const E=c(y,[["render",C]]),T={components:{SettingPassword:k,SettingEmail:E}},U={class:"settings"},I=u(" \u8BBE\u7F6E ");function B(l,t,m,b,s,r){const d=n("t-navbar"),i=n("SettingPassword"),e=n("t-tab-panel"),w=n("SettingEmail"),f=n("t-tabs");return p(),_("div",U,[o(d,{rightShow:!1},{default:a(()=>[I]),_:1}),o(f,{"default-value":"password"},{default:a(()=>[o(e,{value:"password",label:"\u4FEE\u6539\u5BC6\u7801\uFF08\u5F00\u53D1\u4E2D\uFF09"},{default:a(()=>[o(i)]),_:1}),o(e,{value:"mail",label:"\u4FEE\u6539\u90AE\u7BB1"},{default:a(()=>[o(w)]),_:1}),o(e,{value:"developer",label:"\u5F00\u53D1\u8005Debug"})]),_:1})])}const z=c(T,[["render",B]]);export{z as default};
